{"is_source_file": true, "format": "Python", "description": "This file implements a FastAPI backend providing CRUD operations for a note-taking application. It includes endpoints for health checks, creating, listing, retrieving, updating, and deleting notes, and uses SQLAlchemy for database interactions. The code also sets up CORS middleware and creates database tables if absent.", "external_files": ["./database", "./models", "./schemas"], "external_methods": ["get_db", "Base.metadata.create_all", "uvicorn.run"], "published": ["app"], "classes": [{"name": "HealthResponse", "description": "Pydantic model for health check response"}], "methods": [{"name": "HealthResponse health_check()", "description": "Health check endpoint to verify that the service is running", "scope": "", "scopeKind": ""}, {"name": "NoteOut create_note(payload: NoteCreate, db: Session = Depends(get_db))", "description": "Creates a new note with provided title and content", "scope": "", "scopeKind": ""}, {"name": "List[NoteOut] list_notes( page: int = Query(1, ge=1, description=\"1-based page index\"), page_size: int = Query(10, ge=1, le=100, description=\"Number of items per page\"), q: Optional[str] = Query(None, description=\"Search query against title and content\"), db: Session = Depends(get_db), )", "description": "Returns a paginated list of notes, optionally filtered by search query", "scope": "", "scopeKind": ""}, {"name": "NoteOut get_note(note_id: int, db: Session = Depends(get_db))", "description": "Retrieves a note by its ID", "scope": "", "scopeKind": ""}, {"name": "NoteOut update_note(note_id: int, payload: NoteUpdate, db: Session = Depends(get_db))", "description": "Updates a note identified by note_id with new title or content", "scope": "", "scopeKind": ""}, {"name": "Response delete_note(note_id: int, db: Session = Depends(get_db))", "description": "Deletes a note by its ID", "scope": "", "scopeKind": ""}], "calls": ["Base.metadata.create_all", "uvicorn.run"], "search-terms": ["FastAPI", "notes", "CRUD", "SQLAlchemy", "pydantic", "health check", "API endpoints"], "state": 2, "file_id": 1, "knowledge_revision": 23, "git_revision": "949e7f60b55efc982ba5cd796bb884211bdd80b1", "revision_history": [{"8": "f7dfa2e85ac382b12afe6994f2d068f3dc80d5b6"}, {"16": "f7dfa2e85ac382b12afe6994f2d068f3dc80d5b6"}, {"19": "21627900359a17ae1b02ac65a2621224aa0e5610"}, {"20": "949e7f60b55efc982ba5cd796bb884211bdd80b1"}, {"23": "949e7f60b55efc982ba5cd796bb884211bdd80b1"}], "ctags": [{"_type": "tag", "name": "HealthResponse", "path": "/home/kavia/workspace/code-generation/simple-notes-app-38477-38486/notes_backend/src/api/main.py", "pattern": "/^class HealthResponse(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/simple-notes-app-38477-38486/notes_backend/src/api/main.py", "pattern": "/^app = FastAPI($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "create_note", "path": "/home/kavia/workspace/code-generation/simple-notes-app-38477-38486/notes_backend/src/api/main.py", "pattern": "/^def create_note(payload: NoteCreate, db: Session = Depends(get_db)) -> NoteOut:$/", "language": "Python", "typeref": "typename:NoteOut", "kind": "function", "signature": "(payload: NoteCreate, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "delete_note", "path": "/home/kavia/workspace/code-generation/simple-notes-app-38477-38486/notes_backend/src/api/main.py", "pattern": "/^def delete_note(note_id: int, db: Session = Depends(get_db)) -> Response:$/", "language": "Python", "typeref": "typename:Response", "kind": "function", "signature": "(note_id: int, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "get_note", "path": "/home/kavia/workspace/code-generation/simple-notes-app-38477-38486/notes_backend/src/api/main.py", "pattern": "/^def get_note(note_id: int, db: Session = Depends(get_db)) -> NoteOut:$/", "language": "Python", "typeref": "typename:NoteOut", "kind": "function", "signature": "(note_id: int, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "health_check", "path": "/home/kavia/workspace/code-generation/simple-notes-app-38477-38486/notes_backend/src/api/main.py", "pattern": "/^def health_check() -> HealthResponse:$/", "language": "Python", "typeref": "typename:HealthResponse", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "list_notes", "path": "/home/kavia/workspace/code-generation/simple-notes-app-38477-38486/notes_backend/src/api/main.py", "pattern": "/^def list_notes($/", "language": "Python", "typeref": "typename:List[NoteOut]", "kind": "function", "signature": "( page: int = Query(1, ge=1, description=\"1-based page index\"), page_size: int = Query(10, ge=1, le=100, description=\"Number of items per page\"), q: Optional[str] = Query(None, description=\"Search query against title and content\"), db: Session = Depends(get_db), )"}, {"_type": "tag", "name": "openapi_tags", "path": "/home/kavia/workspace/code-generation/simple-notes-app-38477-38486/notes_backend/src/api/main.py", "pattern": "/^openapi_tags = [$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "update_note", "path": "/home/kavia/workspace/code-generation/simple-notes-app-38477-38486/notes_backend/src/api/main.py", "pattern": "/^def update_note(note_id: int, payload: NoteUpdate, db: Session = Depends(get_db)) -> NoteOut:$/", "language": "Python", "typeref": "typename:NoteOut", "kind": "function", "signature": "(note_id: int, payload: NoteUpdate, db: Session = Depends(get_db))"}], "hash": "b80523b30d811a6ff47b647fda980280", "format-version": 4, "code-base-name": "notes_backend", "filename": "notes_backend/src/api/main.py", "fields": [{"name": "app = FastAPI(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "openapi_tags = [", "scope": "", "scopeKind": "", "description": "unavailable"}]}